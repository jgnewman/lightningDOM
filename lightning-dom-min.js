!function(){var t="You can't use lightningDOM in a non-browser environment.",e="All nodes in an iteration must have a unique `key` attribute.",n={},r={},o={},i={},a={},s={},h={},u={};function c(){if("undefined"==typeof window)throw new Error(t);var c=window.document,l={onmount:[],onunmount:[]};function d(t){for(var e=l[t].length,n=0;n<e;n+=1)l[t][n]();l[t]=[]}function f(t,e,n,r){this.type=t,this.prev=e,this.next=n,this.data=r}function p(t,e,n,r,o){this.tag=t,this.text=r,this.attrs=e,this.children=n,this.parentNode=o,this.key=e.key,this.node=null}function v(t){var e=t.children.length;"function"==typeof t.attrs.onunmount&&l.onunmount.push(t.attrs.onunmount);for(var n=0;n<e;n+=1)v(t.children[n])}function m(t){"function"==typeof t.data[1]?t.prev.node[t.data[0]]=t.data[1]:t.prev.node.setAttribute(t.data[0],t.data[1]),g(t)}function g(t){t.next.node=t.prev.node}function w(t){for(var e=t.next.children,n=e.length-1,r=e[0]&&e[0].node.parentNode,o=n;o>=0;o-=1)o>0&&r.insertBefore(e[o-1].node,e[o].node)}function y(t,e){e.innerHTML="",e.appendChild(t.build()),d("onmount")}p.prototype={build:function(t){var e,n=this.children.length;for(var r in e="text"===this.tag?c.createTextNode(this.text):"keylist"===this.tag?t:c.createElement(this.tag),this.attrs)"key"!==r&&("function"==typeof this.attrs[r]?e[r]=this.attrs[r]:e.setAttribute(r,this.attrs[r]));for(var o=0;o<n;o+=1){var i=this.children[o].build(e);i&&e.appendChild(i)}return this.node=e,"function"==typeof this.attrs.onmount&&l.onmount.push(e.onmount),"keylist"!==this.tag?e:null},compareAttrsTo:function(t){var e=[],n={};for(var r in this.attrs){var o=!1;for(var h in t.attrs)if(h===r){o=!0,n[r]=!0,t.attrs[h]!==this.attrs[r]&&e.push(new f(s,this,t,[h,t.attrs[h]]));break}o||e.push(new f(a,this,t,[r,this.attrs[r]]))}for(var h in t.attrs)n.hasOwnProperty(h)||e.push(new f(i,this,t,[h,t.attrs[h]]));return e},compareChildrenTo:function(t){var e,o,i,a=[],s=this.children,h=t.children,u=s.length,c=h.length;if(u<c){e=h.slice(0,u),remainder=h.slice(u),i=remainder.length;for(var l=0;l<u;l+=1)a=a.concat(s[l].compareTo(e[l]));for(l=0;l<i;l+=1)a.push(new f(n,null,remainder[l],s[0].node.parentNode))}else if(u>c){o=(e=s.slice(0,c)).length,remainder=s.slice(c),i=remainder.length;for(l=0;l<o;l+=1)a=a.concat(e[l].compareTo(h[l]));for(l=0;l<i;l+=1)a.push(new f(r,remainder[l]))}else for(l=0;l<u;l+=1)a=a.concat(s[l].compareTo(h[l]));return a},compareTo:function(t){var i=[];if(this.tag!==t.tag)i.push(new f(o,this,t));else if("text"===this.tag&&"text"===t.tag)this.text===t.text?i.push(new f(h,this,t)):i.push(new f(o,this,t));else if("keylist"===this.tag&&"keylist"===t.tag){var a=function(t,o){for(var i=[],a={},s=t.children.length,h=o.children.length,c=0;c<s;c+=1){for(var l=!1,d=0;d<h;d+=1){var p=t.children[c],v=o.children[d];if("string"!=typeof p.key)throw new Error(e);if(v.key===p.key){a[p.key]=l=!0,i=i.concat(p.compareTo(v));break}}l||i.push(new f(r,p))}for(var c=0;c<h;c+=1){var v=o.children[c];if("string"!=typeof v.key)throw new Error(e);a.hasOwnProperty(v.key)||i.push(new f(n,null,v,t.parentNode.node))}return i.push(new f(u,t,o)),i}(this,t);a.length&&(i=i.concat(a))}else{var s=this.compareAttrsTo(t);s.length&&(i=i.concat(s));var c=this.compareChildrenTo(t);c.length&&(i=i.concat(c)),!s.length&&i.push(new f(h,this,t))}return i}};var k=[],b=null,x=!1,T=null,A=null;function C(t,e){!k.length&&k.push(t),k[1]=e,b||(b=setTimeout(function(){b=null,x?function(t,e){for(var c,l,f,p,y,k=t.compareTo(e),b=k.length,x=0;x<b;x+=1)switch((c=k[x]).type){case n:(y=c).data.appendChild(y.next.build());break;case r:(p=c).prev.node.parentNode.removeChild(p.prev.node),v(p.prev);break;case o:(f=c).prev.node.parentNode.replaceChild(f.next.build(),f.prev.node),v(f.prev);break;case i:m(c);break;case a:"function"==typeof(l=c).data[1]?l.prev.node[l.data[0]]=void 0:l.prev.node.removeAttribute(l.data),g(l);break;case s:m(c);break;case u:w(c);break;case h:g(c)}d("onunmount"),d("onmount")}(k[0],k[1]):(clearTimeout(T),y(k[1],A)),k=[k[1]]},0))}return{create:function(t,e,n){for(var r=new p(t,e=e||{},n=n||[]),o=n.length,i=0;i<o;i+=1){var a=n[i];a instanceof Array?n[i]=new p("keylist",{},a,null,r):a instanceof p||(n[i]=new p("text",{},[],String(a)))}return r},render:function(t,e){A=e,T=setTimeout(function(){k.length<2&&(x=!0,y(t,e))},0)},migrate:function(t,e){return C(t,e),e}}}"undefined"!=typeof module?module.exports=c:window.lightningDOM=c}();
