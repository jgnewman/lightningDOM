!function(){var v="All nodes in an iteration must have a unique `key` string attribute.",h=["svg","g","path","polygon","rect","circle","line","clipPath","cursor","defs","desc","ellipse","filter","font","glyph","image","text","textPath"],g={},m={},y={},w={},k={},x={},b={},T={};if("undefined"==typeof window)throw new Error("You can't use lightningDOM in a non-browser environment.");var l=window.document;function N(e,t,n,r){this.type=e,this.prev=t,this.next=n,this.data=r}function s(e,t,n,r,i){this.tag=e,this.text=r,this.attrs=t,this.children=n,this.parentNode=i,this.key=t.key,this.node=null}s.prototype={build:function(e,t){var n,r=this.children.length,i=!1;if(t&&"string"!=typeof this.key)throw new Error(v);for(var o in n="null"===this.tag?l.createTextNode(""):"text"===this.tag?l.createTextNode(this.text):"keylist"===this.tag?(i=!0,e):-1===h.indexOf(this.tag)?l.createElement(this.tag):l.createElementNS("http://www.w3.org/2000/svg",this.tag),this.attrs)"key"!==o&&("function"==typeof this.attrs[o]?n[o]=this.attrs[o]:n.setAttribute(o,this.attrs[o]));for(var a=0;a<r;a+=1){var s=this.children[a].build(n,i);s&&n.appendChild(s)}return this.node=n,"keylist"!==this.tag?n:null},compareAttrsTo:function(e){var t=[],n={};for(var r in this.attrs){var i=!1;for(var o in e.attrs)if(o===r){i=!0,n[r]=!0,e.attrs[o]!==this.attrs[r]&&t.push(new N(x,this,e,[o,e.attrs[o]]));break}i||t.push(new N(k,this,e,[r,this.attrs[r]]))}for(var o in e.attrs)n.hasOwnProperty(o)||t.push(new N(w,this,e,[o,e.attrs[o]]));return t},compareChildrenTo:function(e){var t,n,r,i=[],o=this.children,a=e.children,s=o.length,h=a.length;if(s<h){t=a.slice(0,s),remainder=a.slice(s),r=remainder.length;for(var l=0;l<s;l+=1)i=i.concat(o[l].compareTo(t[l]));for(l=0;l<r;l+=1)i.push(new N(g,null,remainder[l],o[0].node.parentNode))}else if(h<s){n=(t=o.slice(0,h)).length,remainder=o.slice(h),r=remainder.length;for(l=0;l<n;l+=1)i=i.concat(t[l].compareTo(a[l]));for(l=0;l<r;l+=1)i.push(new N(m,remainder[l]))}else for(l=0;l<s;l+=1)i=i.concat(o[l].compareTo(a[l]));return i},compareTo:function(e){var t=[];if(this.tag!==e.tag)t.push(new N(y,this,e));else if("text"===this.tag&&"text"===e.tag)this.text===e.text?t.push(new N(b,this,e)):t.push(new N(y,this,e));else if("keylist"===this.tag&&"keylist"===e.tag){var n=function(e,t){for(var n=[],r={},i={},o=[],a=-1,s=!0,h=e.children.length,l=t.children.length,u=0;u<h;u+=1){for(var d=!1,c=0;c<l;c+=1){var f=e.children[u],p=t.children[c];if("string"!=typeof f.key)throw new Error(v);if(p.key===f.key){i[f.key]=[u,c],d=!0,n=n.concat(f.compareTo(p)),s&&c<a&&(s=!1),a=c;break}}d||(n.push(new N(m,f)),o.push(u))}for(var u=0;u<l;u+=1){var p=t.children[u];if("string"!=typeof p.key)throw new Error(v);i.hasOwnProperty(p.key)||(r[p.key]=!0)}s&&!Object.keys(r).length||n.push(new N(T,e,t,{parentNode:e.parentNode.node,matches:i,additions:r,removalIndexes:o}));return n}(this,e);n.length&&(t=t.concat(n))}else{var r=this.compareAttrsTo(e);r.length&&(t=t.concat(r));var i=this.compareChildrenTo(e);i.length&&(t=t.concat(i)),!r.length&&t.push(new N(b,this,e))}return t}};var e={app:function(){var i={onmount:[],onunmount:[]};function u(e){for(var t=i[e].length,n=0;n<t;n+=1)i[e][n]();i[e]=[]}function d(e,t){var n=t.children.length;"function"==typeof t.attrs[e]&&i[e].push(t.attrs[e]);for(var r=0;r<n;r+=1)d(e,t.children[r])}function c(e){"function"==typeof e.data[1]?e.prev.node[e.data[0]]=e.data[1]:e.prev.node.setAttribute(e.data[0],e.data[1]),f(e)}function f(e){e.next.node=e.prev.node}function p(e,t,n,r){var i=r.prev.children;if(t&&i[i.length-1].key!==e.key)return!0;var o=r.data.matches[e.key],a=o[1]-o[0];return!t&&0!==a&&a!==n-function(e,t){for(var n=e.length,r=0,i=0;i<n&&e[i]<t;i+=1)r+=1;return r}(r.data.removalIndexes,o[0])}function v(e){for(var t=e.next.children,n=t.length-1,r=e.data.parentNode,i=e.data.matches,o=e.data.additions,a=Object.keys(o).length,s=n;0<=s;s-=1){var h=t[s];if(i.hasOwnProperty(h.key)){if(i[h.key],p(h,s===n,a,e)){var l=t[s+1];r.insertBefore(h.node,l?l.node:null)}}else o.hasOwnProperty(h.key)&&(l=t[s+1],r.insertBefore(h.build(),l?l.node:null),d("onmount",h),a-=1)}}function n(e,t){t.innerHTML="",t.appendChild(e.build()),d("onmount",e),u("onmount")}var r=[],o=null,a=!1,s=null,h=null;function l(e,t){!r.length&&r.push(e),r[1]=t,o||(o=setTimeout(function(){o=null,a?function(e,t){for(var n,r,i,o,a,s=e.compareTo(t),h=s.length,l=0;l<h;l+=1)switch((n=s[l]).type){case g:(a=n).data.appendChild(a.next.build()),d("onmount",a.next);break;case m:(o=n).prev.node.parentNode.removeChild(o.prev.node),d("onunmount",o.prev);break;case y:(i=n).prev.node.parentNode.replaceChild(i.next.build(),i.prev.node),d("onmount",i.next),d("onunmount",i.prev);break;case w:c(n);break;case k:"function"==typeof(r=n).data[1]?r.prev.node[r.data[0]]=void 0:r.prev.node.removeAttribute(r.data),f(r);break;case x:c(n);break;case T:v(n);break;case b:f(n)}u("onunmount"),u("onmount")}(r[0],r[1]):(clearTimeout(s),n(r[1],h)),r=[r[1]]},0))}return{render:function(e,t){h=t,s=setTimeout(function(){r.length<2&&(a=!0,n(e,t))},0)},migrate:function(e,t){return l(e,t),t}}},create:function(e,t,n){for(var r=new s(e,t=t||{},n=n||[]),i=n.length,o=0;o<i;o+=1){var a=n[o];null==a?n[o]=new s("null",{},[]):a instanceof Array?n[o]=new s("keylist",{},a,null,r):a instanceof s||(n[o]=new s("text",{},[],String(a)))}return r},meta:{version:"0.0.3",svgSupport:h.sort()}};"undefined"!=typeof module?module.exports=e:"undefined"!=typeof window&&(window.lightningDOM=e)}();