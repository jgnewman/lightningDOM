!function(){var v="All nodes in an iteration must have a unique `key` string attribute.",l=["svg","g","path","polygon","rect","circle","line","clipPath","cursor","defs","desc","ellipse","filter","font","glyph","image","text","textPath"],m={},y={},w={},k={},x={},b={},T={},N={};if("undefined"==typeof window)throw new Error("You can't use lightningDOM in a non-browser environment.");var h=window.document;function d(e,t,n){switch(t){case"value":case"defaultValue":case"checked":case"defaultChecked":"INPUT"===e.nodeName&&(e[t]=n);default:e.setAttribute(t,n)}}function g(e,t,n,r){this.type=e,this.prev=t,this.next=n,this.data=r}function s(e,t,n,r,a){this.tag=e,this.text=r,this.attrs=t,this.children=n,this.parentNode=a,this.key=t.key,this.node=null}s.prototype={build:function(e,t){var n,r=this.children.length,a=!1;if(t&&"string"!=typeof this.key)throw new Error(v);for(var o in n="null"===this.tag?h.createTextNode(""):"text"===this.tag?h.createTextNode(this.text):"keylist"===this.tag?(a=!0,e):-1===l.indexOf(this.tag)?h.createElement(this.tag):h.createElementNS("http://www.w3.org/2000/svg",this.tag),this.attrs)"key"!==o&&("function"==typeof this.attrs[o]?n[o]=this.attrs[o]:d(n,o,this.attrs[o]));for(var i=0;i<r;i+=1){var s=this.children[i].build(n,a);s&&n.appendChild(s)}return this.node=n,"keylist"!==this.tag?n:null},compareAttrsTo:function(e){var t=[],n={};for(var r in this.attrs){var a=!1;for(var o in e.attrs)if(o===r){a=!0,n[r]=!0;var i=this.attrs[r],s=e.attrs[o];"value"===o&&this.node&&(i=this.node.value),s!==i&&t.push(new g(b,this,e,[o,e.attrs[o]]));break}a||t.push(new g(x,this,e,[r,this.attrs[r]]))}for(var o in e.attrs)n.hasOwnProperty(o)||t.push(new g(k,this,e,[o,e.attrs[o]]));return t},compareChildrenTo:function(e){var t,n,r,a=[],o=this.children,i=e.children,s=o.length,l=i.length;if(s<l){t=i.slice(0,s),remainder=i.slice(s),r=remainder.length;for(var h=0;h<s;h+=1)a=a.concat(o[h].compareTo(t[h]));for(h=0;h<r;h+=1)a.push(new g(m,null,remainder[h],o[0].node.parentNode))}else if(l<s){n=(t=o.slice(0,l)).length,remainder=o.slice(l),r=remainder.length;for(h=0;h<n;h+=1)a=a.concat(t[h].compareTo(i[h]));for(h=0;h<r;h+=1)a.push(new g(y,remainder[h]))}else for(h=0;h<s;h+=1)a=a.concat(o[h].compareTo(i[h]));return a},compareTo:function(e){var t=[];if(this.tag!==e.tag)t.push(new g(w,this,e));else if("text"===this.tag&&"text"===e.tag)this.text===e.text?t.push(new g(T,this,e)):t.push(new g(w,this,e));else if("keylist"===this.tag&&"keylist"===e.tag){var n=function(e,t){for(var n=[],r={},a={},o=[],i=-1,s=!0,l=e.children.length,h=t.children.length,u=0;u<l;u+=1){for(var d=!1,c=0;c<h;c+=1){var f=e.children[u],p=t.children[c];if("string"!=typeof f.key)throw new Error(v);if(p.key===f.key){a[f.key]=[u,c],d=!0,n=n.concat(f.compareTo(p)),s&&c<i&&(s=!1),i=c;break}}d||(n.push(new g(y,f)),o.push(u))}for(var u=0;u<h;u+=1){var p=t.children[u];if("string"!=typeof p.key)throw new Error(v);a.hasOwnProperty(p.key)||(r[p.key]=!0)}s&&!Object.keys(r).length||n.push(new g(N,e,t,{parentNode:e.parentNode.node,matches:a,additions:r,removalIndexes:o}));return n}(this,e);n.length&&(t=t.concat(n))}else{var r=this.compareAttrsTo(e);r.length&&(t=t.concat(r));var a=this.compareChildrenTo(e);a.length&&(t=t.concat(a)),!r.length&&t.push(new g(T,this,e))}return t}};var e={app:function(){var a={onmount:[],onunmount:[]};function c(e){for(var t=a[e].length,n=0;n<t;n+=1)a[e][n]();a[e]=[]}function f(e,t){var n=t.children.length;"function"==typeof t.attrs[e]&&a[e].push(t.attrs[e]);for(var r=0;r<n;r+=1)f(e,t.children[r])}function p(e){if("function"==typeof e.data[1])e.prev.node[e.data[0]]=e.data[1];else{var t=e.data[0],n=e.data[1];"value"===t&&n===e.prev.node.val||d(e.prev.node,t,n)}v(e)}function v(e){e.next.node=e.prev.node}function u(e,t,n,r){var a=r.prev.children;if(t&&a[a.length-1].key!==e.key)return!0;var o=r.data.matches[e.key],i=o[1]-o[0];return!t&&0!==i&&i!==n-function(e,t){for(var n=e.length,r=0,a=0;a<n&&e[a]<t;a+=1)r+=1;return r}(r.data.removalIndexes,o[0])}function g(e){for(var t=e.next.children,n=t.length-1,r=e.data.parentNode,a=e.data.matches,o=e.data.additions,i=Object.keys(o).length,s=n;0<=s;s-=1){var l=t[s];if(a.hasOwnProperty(l.key)){if(a[l.key],u(l,s===n,i,e)){var h=t[s+1];r.insertBefore(l.node,h?h.node:null)}}else o.hasOwnProperty(l.key)&&(h=t[s+1],r.insertBefore(l.build(),h?h.node:null),f("onmount",l),i-=1)}}var r=[],o=null,i=!1,s=null,l=null;function h(e,t,n){!r.length&&r.push(e),r[1]=t,n&&(l=n),null!==o&&clearTimeout(o),o=setTimeout(function(){var e,t;o=null,i?function(e,t){for(var n,r,a,o,i,s,l,h=e.compareTo(t),u=h.length,d=0;d<u;d+=1)switch((n=h[d]).type){case m:(l=n).data.appendChild(l.next.build()),f("onmount",l.next);break;case y:(s=n).prev.node.parentNode.removeChild(s.prev.node),f("onunmount",s.prev);break;case w:(i=n).prev.node.parentNode.replaceChild(i.next.build(),i.prev.node),f("onmount",i.next),f("onunmount",i.prev);break;case k:p(n);break;case x:o=a=void 0,"function"==typeof(r=n).data[1]?r.prev.node[r.data[0]]=void 0:(a=r.prev.node,o=r.data[0],"INPUT"===a.nodeName&&("value"===o||"defaultValue"===o?a[o]="":"checked"!==o&&"defaultChecked"!==o||(a[o]=!1)),a.removeAttribute(o)),v(r);break;case b:p(n);break;case N:g(n);break;case T:v(n)}c("onunmount"),c("onmount")}(r[0],r[1]):(i=!0,e=r[1],(t=s).innerHTML="",t.appendChild(e.build()),f("onmount",e),c("onmount")),r=[r[1]],l&&l(),l=null},0)}return{render:function(e,t){s=t,h(null,e)},migrate:function(e,t,n){return h(e,t,n),t}}},create:function(e,t,n){for(var r=new s(e,t=t||{},n=n||[]),a=n.length,o=0;o<a;o+=1){var i=n[o];null==i?n[o]=new s("null",{},[]):i instanceof Array?n[o]=new s("keylist",{},i,null,r):i instanceof s||(n[o]=new s("text",{},[],String(i)))}return r},meta:{svgSupport:l.sort()}};"undefined"!=typeof module?module.exports=e:"undefined"!=typeof window&&(window.lightningDOM=e)}();